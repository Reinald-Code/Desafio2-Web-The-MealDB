---
import Layout from '../layouts/Layout.astro';

// Lista estática de países como fallback
const staticCountries = [
  'American', 'British', 'Canadian', 'Chinese', 'Croatian', 'Dutch', 
  'Egyptian', 'Filipino', 'French', 'Greek', 'Indian', 'Irish', 
  'Italian', 'Jamaican', 'Japanese', 'Kenyan', 'Malaysian', 'Mexican', 
  'Moroccan', 'Polish', 'Portuguese', 'Russian', 'Spanish', 'Thai', 
  'Tunisian', 'Turkish', 'Ukrainian', 'Uruguayan', 'Vietnamese'
];

// Traducciones de países al español
const countryTranslations: { [key: string]: string } = {
  'American': 'Estadounidense',
  'British': 'Británica',
  'Canadian': 'Canadiense',
  'Chinese': 'China',
  'Croatian': 'Croacia',
  'Dutch': 'Holanda',
  'Egyptian': 'Egipto',
  'Filipino': 'Filipinas',
  'French': 'Francia',
  'Greek': 'Grecia',
  'Indian': 'India',
  'Irish': 'Irlanda',
  'Italian': 'Italia',
  'Jamaican': 'Jamaica',
  'Japanese': 'Japón',
  'Kenyan': 'Kenia',
  'Malaysian': 'Malasia',
  'Mexican': 'México',
  'Moroccan': 'Marruecos',
  'Polish': 'Polonia',
  'Portuguese': 'Portugal',
  'Russian': 'Rusia',
  'Spanish': 'España',
  'Thai': 'Tailandia',
  'Tunisian': 'Túnez',
  'Turkish': 'Turquía',
  'Ukrainian': 'Ucrania',
  'Uruguayan': 'Uruguay',
  'Vietnamese': 'Vietnam'
};

// Función para obtener la bandera
function getFlag(country: string): string {
  const flags: { [key: string]: string } = {
    'American': '🇺🇸',
    'British': '🇬🇧',
    'Canadian': '🇨🇦',
    'Chinese': '🇨🇳',
    'Croatian': '🇭🇷',
    'Dutch': '🇳🇱',
    'Egyptian': '🇪🇬',
    'Filipino': '🇵🇭',
    'French': '🇫🇷',
    'Greek': '🇬🇷',
    'Indian': '🇮🇳',
    'Irish': '🇮🇪',
    'Italian': '🇮🇹',
    'Jamaican': '🇯🇲',
    'Japanese': '🇯🇵',
    'Kenyan': '🇰🇪',
    'Malaysian': '🇲🇾',
    'Mexican': '🇲🇽',
    'Moroccan': '🇲🇦',
    'Polish': '🇵🇱',
    'Portuguese': '🇵🇹',
    'Russian': '🇷🇺',
    'Spanish': '🇪🇸',
    'Thai': '🇹🇭',
    'Tunisian': '🇹🇳',
    'Turkish': '🇹🇷',
    'Ukrainian': '🇺🇦',
    'Uruguayan': '🇺🇾',
    'Vietnamese': '🇻🇳'
  };
  return flags[country] || '🍽️';
}
---

<Layout title="Cocinas del Mundo - Recetas por País">
  <div class="px-40 flex flex-1 justify-center py-5">
    <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
      <h2 class="text-[#1b0e0e] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">
        Cocinas del Mundo
      </h2>
      <p class="text-[#994d51] text-base font-normal leading-normal px-4 pb-8">
        Explora las deliciosas recetas tradicionales de diferentes países
      </p>

      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 p-4">
        {staticCountries.map((country) => (
          <a 
            href={`/country/${country.toLowerCase()}`}
            class="flex flex-col gap-3 pb-3 group w-full max-w-[220px] justify-self-center"
          >
            <div class="relative w-full bg-[#f3e7e8] aspect-square rounded-lg overflow-hidden group-hover:shadow-lg transition-all duration-300">
              <div class="absolute inset-0 flex items-center justify-center text-[72px] transform group-hover:scale-110 transition-transform duration-300">
                {getFlag(country)}
              </div>
            </div>
            <div class="text-center">
              <p class="text-[#1b0e0e] text-base font-medium leading-normal group-hover:text-[#994d51] transition-colors">
                {countryTranslations[country] || country}
              </p>
              <p class="text-[#994d51] text-sm font-normal leading-normal">
                Cocina {countryTranslations[country] || country}
              </p>
            </div>
          </a>
        ))}
      </div>
    </div>
  </div>
</Layout>
